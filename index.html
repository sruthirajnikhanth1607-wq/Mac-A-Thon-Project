<!doctype html>
<!--
Authors: Harshini Lakshman, Sruthi Rajinikanth, Sophie Xiu, Michael Jaedon.
Date: February 7th 2026
Description: This is the home page of the SafeSense web application. 
It provides users with a real-time overview of their personal safety, including current risk level, nearby incident summaries, and location-based safety insights (with user consent). 
The page is designed to be mobile-first, responsive, and privacy-focused, serving as the central dashboard for safety awareness and quick action.
-->
<html>

<head>
    <meta charset="utf-8">
    <title>SafeSense</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index_css/index.css">
    <script src="index_js/index.js"></script>
</head>

<body>
    <div id="container">
        <button class="panic-button" aria-label="Emergency panic button">üö®</button>

        <div id="header">
            <div id="title">
                <h1>SafeSense</h1>
                <p id="welcome-message">Welcome!</p>
            </div>
            <div id="navbar">
                <a href="index.html">Home</a>
                <a href="http://localhost:3000/chat.html">Chatbot</a>
                <a href="map.html">Tracking</a>
                <a href="settings.html">Settings</a>
            </div>
        </div>

        <div id="content">
            <div class="grid">
                <section class="safety_status">
                    <h3>‚ö†Ô∏è Risk Level</h3>
                    <p class="metric risk low" id="risk-level">Low</p>
                    <span class="card-subtext">Based on recent activity</span>
                </section>
                <div id="ai-risk-explanation" class="card-subtext muted">
                    Analyzing local safety conditions‚Ä¶
                </div>


                <p class="safety-text muted" id="incident-context">
                    No immediate threats detected in your area.
                </p>


                <section id="safety-actions" class="hidden">
                    <h3>Need help?</h3>
                    <p class="safety-text">
                        Your current risk level is elevated. Would you like SafeSense to take action?
                    </p>

                    <div class="safety-buttons">
                        <button class="primary">Contact Emergency Services</button>
                        <button class="secondary">Notify Emergency Contact</button>
                        <button class="tertiary">I'm Safe</button>
                    </div>
                </section>


                <section class="recent_incidents">
                    <h3>üì∞ Recent Incidents</h3>
                    <p class="metric">2 nearby</p>
                    <span class="card-subtext">Within the last 24 hours</span>

                    <div class="incident-actions">
                        <p class="incident-note">
                            Stay informed with verified local reporting.
                        </p>

                        <a href="https://www.cp24.com/news" target="_blank" class="cp24-link"
                            aria-label="View CP24 local news">
                            üì∞ View CP24 Local News
                            <span class="external-arrow">‚Üó</span>
                        </a>
                        <p class="incident-note">
                            SafeSense prioritizes trusted local sources over unverified alerts.
                        </p>
                    </div>
                </section>


                <section class="location_info">
                    <h2>üìç Location & Area Safety</h2>

                    <!-- Toggle this based on consent -->
                    <p class="location-text">
                        üìç Downtown Toronto <br>
                        Safety Score: <strong>92 / 100</strong>
                    </p>

                    <div class="map-container">
                        <iframe src="https://www.google.com/maps?q=Toronto&output=embed" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </section>
            </div>
        </div>

        <footer class="footer">
            <p>SafeSense respects your privacy. Your data is encrypted and never shared.</p>
        </footer>
    </div>

    <!-- Custom Alert Modal -->
    <div id="custom-alert" class="hidden">
        <div style="
        background: white;
        padding: 1.5rem;
        border-radius: 14px;
        max-width: 320px;
        width: 90%;
        text-align: center;
        box-shadow: 0 15px 40px rgba(0,0,0,0.25);
    ">
            <h3 id="alert-title" style="margin-bottom: 0.5rem;">Alert</h3>
            <p id="alert-message" style="font-size: 0.9rem; color: #374151;"></p>

            <div style="margin-top: 1rem; display: flex; gap: 0.5rem; justify-content: center;">
                <button id="alert-confirm" class="primary">OK</button>
                <button id="alert-cancel" class="tertiary hidden">Cancel</button>
            </div>
        </div>
    </div>

</body>

</html>